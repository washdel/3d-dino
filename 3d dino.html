<!DOCTYPE html>

<html lang="id">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>3D Printing Business Tracker</title>

    <style>

        * {

            box-sizing: border-box;

            margin: 0;

            padding: 0;

            font-family: Arial, sans-serif;

        }

        

        body {

            background-color: #f4f4f4;

            line-height: 1.6;

        }

        

        .container {

            width: 90%;

            max-width: 1200px;

            margin: 0 auto;

            padding: 20px;

        }

        

        header {

            background-color: #3498db;

            color: white;

            text-align: center;

            padding: 1rem;

        }

        

        nav {

            background-color: #2c3e50;

            color: white;

        }

        

        .tabs {

            display: flex;

            list-style: none;

        }

        

        .tabs li {

            flex: 1;

            text-align: center;

            padding: 10px;

        }

        

        .tab-content {

            background-color: white;

            padding: 20px;

            display: none;

        }

        

        .tab-content.active {

            display: block;

        }

    </style>

</head>

<body>

    <div class="container">

        <header>

            <h1>3D Printing Business Tracker</h1>

        </header>

        

        <nav>

            <ul class="tabs">

                <li>Pencatatan Harian</li>

                <li>Laporan Mingguan</li>

                <li>Laporan Bulanan</li>

                <li>Produk</li>

                <li>Inventaris</li>

            </ul>

        </nav>

        

        <div id="daily" class="tab-content active">

            <h2>Pencatatan Harian</h2>

            <!-- Form input akan ditambahkan di sini -->

        </div>

        

        <div id="weekly" class="tab-content">

            <h2>Laporan Mingguan</h2>

            <!-- Konten laporan mingguan -->

        </div>

        

        <div id="monthly" class="tab-content">

            <h2>Laporan Bulanan</h2>

            <!-- Konten laporan bulanan -->

        </div>

        

        <div id="products" class="tab-content">

            <h2>Produk</h2>

            <!-- Daftar produk -->

        </div>

        

        <div id="inventory" class="tab-content">

            <h2>Inventaris</h2>

            <!-- Daftar inventaris -->

        </div>

    </div>


    <script>

        // Skrip JavaScript untuk navigasi tab dan fungsionalitas akan ditambahkan di sini

    </script>

</body>

</html>

    <!-- Tambahkan Chart.js untuk visualisasi data -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {

    // Tab Navigation

    const tabs = document.querySelectorAll('.tabs li');

    const tabContents = document.querySelectorAll('.tab-content');


    tabs.forEach((tab, index) => {

        tab.addEventListener('click', () => {

            // Remove active class from all tabs and tab contents

            tabs.forEach(t => t.classList.remove('active'));

            tabContents.forEach(tc => tc.classList.remove('active'));


            // Add active class to clicked tab and corresponding content

            tab.classList.add('active');

            tabContents[index].classList.add('active');

        });

    });


    // Local Storage Initialization

    initializeLocalStorage();


    // Event Listeners for Different Sections

    setupDailyRecording();

    setupProductManagement();

    setupInventoryManagement();

});


function initializeLocalStorage() {

    // Initialize storage if not exists

    const storageItems = [

        { key: 'printJobs', defaultValue: [] },

        { key: 'products', defaultValue: {} },

        { key: 'filamentInventory', defaultValue: {} },

        { key: 'silicaGelInventory', defaultValue: [] }

    ];


    storageItems.forEach(item => {

        if (!localStorage.getItem(item.key)) {

            localStorage.setItem(item.key, JSON.stringify(item.defaultValue));

        }

    });

}


function setupDailyRecording() {

    // Set up daily recording form submission

    const dailyForm = document.createElement('form');

    dailyForm.innerHTML = `

        <div>

            <label>Tanggal:</label>

            <input type="date" id="recordDate">

        </div>

        <div>

            <label>Produk:</label>

            <input type="text" id="productName">

        </div>

        <div>

            <label>Berat Filamen (g):</label>

            <input type="number" id="filamentWeight" min="0" step="0.1">

        </div>

        <div>

            <label>Waktu Cetak (jam):</label>

            <input type="number" id="printTime" min="0" step="0.1">

        </div>

        <div>

            <label>Biaya Produksi:</label>

            <input type="number" id="productionCost" min="0">

        </div>

        <div>

            <label>Harga Jual:</label>

            <input type="number" id="sellingPrice" min="0">

        </div>

        <button type="button" id="saveDailyRecord">Simpan Catatan</button>

    `;


    document.getElementById('daily').appendChild(dailyForm);


    // Save daily record

    document.getElementById('saveDailyRecord').addEventListener('click', function() {

        const record = {

            date: document.getElementById('recordDate').value,

            productName: document.getElementById('productName').value,

            filamentWeight: parseFloat(document.getElementById('filamentWeight').value) || 0,

            printTime: parseFloat(document.getElementById('printTime').value) || 0,

            productionCost: parseFloat(document.getElementById('productionCost').value) || 0,

            sellingPrice: parseFloat(document.getElementById('sellingPrice').value) || 0,

            profit: 0,

            timestamp: new Date().getTime()

        };


        // Calculate profit

        record.profit = record.sellingPrice - record.productionCost;


        // Save to local storage

        const printJobs = JSON.parse(localStorage.getItem('printJobs'));

        printJobs.push(record);

        localStorage.setItem('printJobs', JSON.stringify(printJobs));


        // Clear form

        dailyForm.reset();


        // Refresh records display

        displayDailyRecords();

    });


    // Initial display of records

    displayDailyRecords();

}


function displayDailyRecords() {

    const recordsContainer = document.createElement('div');

    recordsContainer.innerHTML = '<h3>Catatan Harian</h3>';

    

    const table = document.createElement('table');

    table.innerHTML = `

        <thead>

            <tr>

                <th>Tanggal</th>

                <th>Produk</th>

                <th>Berat Filamen</th>

                <th>Waktu Cetak</th>

                <th>Biaya Produksi</th>

                <th>Harga Jual</th>

                <th>Profit</th>

            </tr>

        </thead>

        <tbody id="dailyRecordsBody"></tbody>

    `;


    recordsContainer.appendChild(table);

    document.getElementById('daily').appendChild(recordsContainer);


    const tbody = document.getElementById('dailyRecordsBody');

    const printJobs = JSON.parse(localStorage.getItem('printJobs'));


    tbody.innerHTML = ''; // Clear existing rows

    printJobs.forEach(job => {

        const row = document.createElement('tr');

        row.innerHTML = `

            <td>${job.date}</td>

            <td>${job.productName}</td>

            <td>${job.filamentWeight}g</td>

            <td>${job.printTime} jam</td>

            <td>Rp${job.productionCost.toLocaleString()}</td>

            <td>Rp${job.sellingPrice.toLocaleString()}</td>

            <td>Rp${job.profit.toLocaleString()}</td>

        `;

        tbody.appendChild(row);

    });

}


function setupProductManagement() {

    const productForm = document.createElement('form');

    productForm.innerHTML = `

        <div>

            <label>Nama Produk:</label>

            <input type="text" id="newProductName">

        </div>

        <div>

            <label>Estimasi Berat Filamen (g):</label>

            <input type="number" id="newProductFilamentWeight" min="0">

        </div>

        <div>

            <label>Estimasi Waktu Cetak (jam):</label>

            <input type="number" id="newProductPrintTime" min="0" step="0.1">

        </div>

        <div>

            <label>Harga Jual:</label>

            <input type="number" id="newProductPrice" min="0">

        </div>

        <button type="button" id="saveProduct">Simpan Produk</button>

    `;


    document.getElementById('products').appendChild(productForm);


    document.getElementById('saveProduct').addEventListener('click', function() {

        const product = {

            name: document.getElementById('newProductName').value,

            filamentWeight: parseFloat(document.getElementById('newProductFilamentWeight').value) || 0,

            printTime: parseFloat(document.getElementById('newProductPrintTime').value) || 0,

            price: parseFloat(document.getElementById('newProductPrice').value) || 0

        };


        const products = JSON.parse(localStorage.getItem('products'));

        products[product.name] = product;

        localStorage.setItem('products', JSON.stringify(products));


        // Clear form

        productForm.reset();


        // Refresh product list

        displayProducts();

    });


    displayProducts();

}


function displayProducts() {

    const productsContainer = document.createElement('div');

    productsContainer.innerHTML = '<h3>Daftar Produk</h3>';

    

    const table = document.createElement('table');

    table.innerHTML = `

        <thead>

            <tr>

                <th>Nama Produk</th>

                <th>Berat Filamen</th>

                <th>Waktu Cetak</th>

                <th>Harga Jual</th>

            </tr>

        </thead>

        <tbody id="productsBody"></tbody>

    `;


    productsContainer.appendChild(table);

    document.getElementById('products').appendChild(productsContainer);


    const tbody = document.getElementById('productsBody');

    const products = JSON.parse(localStorage.getItem('products'));


    tbody.innerHTML = ''; // Clear existing rows

    Object.values(products).forEach(product => {

        const row = document.createElement('tr');

        row.innerHTML = `

            <td>${product.name}</td>

            <td>${product.filamentWeight}g</td>

            <td>${product.printTime} jam</td>

            <td>Rp${product.price.toLocaleString()}</td>

        `;

        tbody.appendChild(row);

    });

}


function setupInventoryManagement() {

    const filamentForm = document.createElement('form');

    filamentForm.innerHTML = `

        <div>

            <label>Jenis Filamen:</label>

            <input type="text" id="filamentType">

        </div>

        <div>

            <label>Stok Awal (g):</label>

            <input type="number" id="filamentStock" min="0">

        </div>

        <div>

            <label>Harga per kg:</label>

            <input type="number" id="filamentPrice" min="0">

        </div>

        <button type="button" id="saveFilament">Tambah Filamen</button>

    `;


    document.getElementById('inventory').appendChild(filamentForm);


    document.getElementById('saveFilament').addEventListener('click', function() {

        const filament = {

            type: document.getElementById('filamentType').value,

            initialStock: parseFloat(document.getElementById('filamentStock').value) || 0,

            currentStock: parseFloat(document.getElementById('filamentStock').value) || 0,

            pricePerKg: parseFloat(document.getElementById('filamentPrice').value) || 0

        };


        const filamentInventory = JSON.parse(localStorage.getItem('filamentInventory'));

        filamentInventory[filament.type] = filament;

        localStorage.setItem('filamentInventory', JSON.stringify(filamentInventory));


        // Clear form

        filamentForm.reset();


        // Refresh inventory list

        displayInventory();

    });


    displayInventory();

}


function displayInventory() {

    const inventoryContainer = document.createElement('div');

    inventoryContainer.innerHTML = '<h3>Inventaris Filamen</h3>';

    

    const table = document.createElement('table');

    table.innerHTML = `

        <thead>

            <tr>

                <th>Jenis Filamen</th>

                <th>Stok Awal</th>

                <th>Stok Saat Ini</th>

                <th>Harga per kg</th>

            </tr>

        </thead>

        <tbody id="inventoryBody"></tbody>

    `;


    inventoryContainer.appendChild(table);

    document.getElementById('inventory').appendChild(inventoryContainer);


    const tbody = document.getElementById('inventoryBody');

    const filamentInventory = JSON.parse(localStorage.getItem('filamentInventory'));


    tbody.innerHTML = ''; // Clear existing rows

    Object.values(filamentInventory).forEach(filament => {

        const row = document.createElement('tr');

        row.innerHTML = `

            <td>${filament.type}</td>

            <td>${filament.initialStock}g</td>

            <td>${filament.currentStock}g</td>

            <td>Rp${filament.pricePerKg.toLocaleString()}</td>

        `;

        tbody.appendChild(row);

    });

}
    </script>
</body>
</html>
